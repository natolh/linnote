{% extends "base.html" %}

{% set title = 'Résultats' %}
{% set active_page = 'épreuves' %}

{% block header %}
    {% include 'workspaces/admin.html' %}
    <div class="module">
        <div>
            <h1>{{ assessment.title }}</h1>
            {% include 'assessment/menu.html' %}
        </div>
        <div role="toolbar">
            <menu type="toolbar">
                <li>
                    <button class='xhr' data-method='post' data-action="{{ url_for('api.grade', identifier=assessment.identifier, grader='top_linear') }}">
                        Lisser
                    </button>
                </li>
                <li>
                    <a href="{{ url_for('assessments.report', id=assessment.identifier) }}" target="_blank">
                        Rapport
                    </a>
                </li>
            </menu>

        </div>
    </div>
{% endblock %}

{% block content %}
<div role="table" class="flex">
{% for result in assessment.results %}
    <ul role="row">
        <li role="cell">
            <span class="heading">
                Identifiant
            </span>
            {{ result.student.identifier }}
        </li>
        <li role="cell">
            <span class="heading">
                Note brute
            </span>
            {{ result.score|round(assessment.precision) }}
            / {{ result.scale }}
        </li>
        <li role="cell">
            <span class="heading">
                Note ajustée
            </span>
            {{ result.value|round(assessment.precision) }}
            / {{ result.scale }}
        </li>
    </ul>
{% endfor %}
</div>
{% endblock %}
